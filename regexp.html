<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>lesson 4 || RegExp</title>
  <style>
    form {
      display: flex;
      flex-direction: column;
    }
    .red-border {
      border: 1px solid red;
    }
  </style>
</head>
<body>
  <p>
    <pre class="initialText">
      One: 'Hi Mary.'
      Two: 'Oh, hi.'
      One: 'How are you doing?'
      Two: 'I'm doing alright. How about you?'
      One: 'Not too bad. The weather is great isn't it?'
      Two: 'Yes. It's absolutely beautiful today.'
      One: 'I wish it was like this more frequently.'
      Two: 'Me too.'
      One: 'So where are you going now?'
      Two: 'I'm going to meet a friend of mine at the department store.'
      One: 'Going to do a little shopping?'
      Two: 'Yeah, I have to buy some presents for my parents.'
      One: 'What's the occasion?'
      Two: 'It's their anniversary.'
      One: 'That's great. Well, you better get going. You don't want to be late.'
      Two: 'I'll see you next time.'
      One: 'Sure. Bye.'
    </pre>
  </p>
  <button class="changeQuotationMarks" type="button">переделать текст</button>
  <p>
    <pre class="textResult"></pre>
  </p>
  <form action="#">
    <label for="name">Введите имя (только буквы!)</label>
    <input class="name" type="text" id="name">
    <label for="tel">Введите телефон в формате+7(000)000-0000</label>
    <input class="tel" type="text" id="tel">
    <label for="email">Введите e-mail</label>
    <input class="email" type="text" id="email">
    <button class="btnSubmit" type="submit">отправить</button>
  </form>
  <script>
    'use strict';

    let btnChangeQuotationMarks = document.querySelector('.changeQuotationMarks');
    let initialText = document.querySelector('.initialText');
    let textResult = document.querySelector('.textResult');
    btnChangeQuotationMarks.addEventListener('click', ()=> {
      textResult.innerHTML = initialText.textContent.replace(/\B'|'\B/g,'"');
    })


    let btnSubmit = document.querySelector('.btnSubmit');
    let name = document.querySelector('.name');
    let tel = document.querySelector('.tel');
    let email = document.querySelector('.email');

    btnSubmit.addEventListener('click', (event) => {
      event.preventDefault();
      if(!name.value.match(/^[a-zA-Zа-яА-ЯёЁ]+$/gu)) {
        name.classList.add('red-border');
      }
      if(!tel.value.match(/^\+7\(\d{3}\)\d{3}-\d{4}$/gu)) {
        tel.classList.add('red-border');
      }
      if(!email.value.match(/^[a-z0-9._-]{1,}@[a-z0-9_-]+\.[a-z]{2,4}$/igu)) {
        email.classList.add('red-border');
      }
    })
  </script>
</body>
</html>
